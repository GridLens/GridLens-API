Role:
You are a senior backend platform engineer building an enterprise utility-analytics platform called GridLens Energy.
This platform powers MeterIQ, RestoreIQ, and FieldOps from a single API and is consumed by a Retool enterprise application.
You must implement missing API contracts so the Retool dashboards populate correctly.

üîë CONTEXT (DO NOT CHANGE)

API Host: https://gridlens-api-cdean5.replit.app

Backend: Node.js + Express

Frontend: Retool (already built)

Tenant for demo: DEMO_TENANT

Retool is already calling the following System Health endpoints

Retool UI is correct ‚Äî backend is incomplete

üéØ OBJECTIVE

Implement production-grade System Health API endpoints so that MeterIQ ‚Üí System Health and Executive Overview dashboards are fully populated.

These endpoints must:

Always return valid JSON

Never return empty arrays for DEMO_TENANT

Use realistic utility-grade demo data

Be deterministic (stable values, not random every call)

Be easily replaceable with real DB queries later

üìå REQUIRED ENDPOINTS TO IMPLEMENT
1Ô∏è‚É£ System Health Summary
GET /api/ami/system/health/summary


Query Params

tenantId (required)

Return

{
  "tenantId": "DEMO_TENANT",
  "systemHealthIndex": 86,
  "status": "Good",
  "dataConfidence": "High",
  "affectedMeters": 412,
  "estimatedDailyExposure": 18750,
  "exceptionVelocity": "Stable",
  "generatedAt": "ISO_TIMESTAMP"
}

2Ô∏è‚É£ 24-Hour Reporting Status
GET /api/ami/system/health/reporting24h


Return

{
  "expectedMeters": 25000,
  "reportingMeters": 24112,
  "readSuccessRatePct": 96.4,
  "topNonReportingFeeders": [
    { "feederId": "FD-102", "missingPct": 18.2 },
    { "feederId": "FD-214", "missingPct": 14.9 }
  ]
}

3Ô∏è‚É£ Feeder Exception Risk
GET /api/ami/system/health/feeders/exceptions


Return

[
  {
    "feederId": "FD-102",
    "riskBand": "High",
    "exceptionScore": 78,
    "affectedMeters": 312
  },
  {
    "feederId": "FD-214",
    "riskBand": "Medium",
    "exceptionScore": 52,
    "affectedMeters": 188
  }
]

4Ô∏è‚É£ Meters Requiring Review
GET /api/ami/system/health/meters/review


Return

[
  {
    "meterId": "MTR-88412",
    "issue": "No reads in 48h",
    "severity": "High",
    "feederId": "FD-102"
  },
  {
    "meterId": "MTR-77109",
    "issue": "Low voltage detected",
    "severity": "Medium",
    "feederId": "FD-214"
  }
]

5Ô∏è‚É£ Power Quality
GET /api/ami/system/health/powerquality


Return

{
  "lowVoltageReadsPct": 2.6,
  "highVoltageReadsPct": 0.4,
  "affectedMeters": 621
}

6Ô∏è‚É£ Communications Health
GET /api/ami/system/health/comms


Return

{
  "meshLatencyMs": 184,
  "packetLossPct": 1.2,
  "degradedNodes": 17
}

üß† IMPLEMENTATION RULES

All endpoints must live under /api/ami/system/health/*

Use Express routers

Validate tenantId

If tenantId !== DEMO_TENANT, return empty but valid JSON

Add generatedAt timestamps where appropriate

No randomization ‚Äî values must be stable across refreshes

Do not modify existing endpoints

Do not modify Retool queries

‚úÖ SUCCESS CRITERIA

Retool System Health pages no longer show empty states

Executive Overview KPIs populate immediately

No API errors or warnings in Retool

Ready for pilot demos without disclaimers

üöÄ FINAL INSTRUCTION

Proceed to:

Create the missing routes

Wire them into the Express app

Export the router cleanly

Ensure all endpoints return 200 OK with JSON

END INSTRUCTION